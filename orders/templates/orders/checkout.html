{% extends 'base.html' %}

{% block title %}Checkout | Brighton GLOW Skincare{% endblock %}

{% block meta_description %}
Secure your Brighton GLOW skincare order with our fast and easy checkout. 
Safe payment options and UK shipping available—because glowing skin is just a click away.{% endblock %}

{% block meta_keywords %} {{ block.super }}
secure checkout, skincare order, fast delivery, Brighton skincare, online payment
{% endblock %}

{% block content %}
  <h2>Checkout</h2>

  <h3>Your Shopping Bag</h3>

  {% if bag %}
    <ul>
      {% for item in bag %}  {# Uses Bag.__iter__() to loop through items #}
      <li>
        {{ item.product.name }} - Quantity: {{ item.quantity }} - £{{ item.total_price|floatformat:2 }}
      </li>
    {% endfor %}
    </ul>
    <p><strong>Total:</strong> £{{ total }}</p>
  {% else %}
    <p>Your shopping bag is empty.</p>
  {% endif %}

{% endblock %}
