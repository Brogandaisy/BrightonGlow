{% extends 'base.html' %}
{% block title %}My Account{% endblock %}

{% block content %}
<header style="padding-top: 60px;">
<div class="container my-5">
  <h2 class="text-center mb-4">My Account</h2>

  <div class="row">
    <!-- Profile Management -->
    <div class="col-md-6 mx-auto text-center mb-4">
      <h4>Account Settings</h4>
      <p>Manage your personal details and preferences.</p>
      <a href="{% url 'update_profile' %}" class="custom-btn-primary">Update Profile</a>
    </div>
  </div>

  <hr class="my-5">

  <!-- Order History -->
  <h4 class="text-center mb-3">Your Orders</h4>

  {% if orders %}
  <div class="row">
    <div class="col-md-10 mx-auto">
      <div class="table-responsive">
        <table class="table table-bordered text-center">
          <thead class="table-dark">
            <tr>
              <th>Order ID</th>
              <th>Status</th>
              <th>Total</th>
              <th>Date</th>
              <th>Details</th>
            </tr>
          </thead>
          <tbody>
            {% for order in orders %}
            <tr>
              <td>#{{ order.id }}</td>
              <td>{{ order.status }}</td>
              <td>Â£{{ order.total_price|floatformat:2 }}</td>
              <td>{{ order.created_at|date:"M d, Y" }}</td>
              <td>
                <a href="{% url 'order_detail' order.id %}" class="btn btn-sm custom-btn-primary">View</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  {% else %}
  <p class="text-center py-4">You haven't placed any orders yet.</p>
  {% endif %}
</div>
</header>
{% endblock %}
